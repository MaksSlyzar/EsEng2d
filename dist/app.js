(()=>{"use strict";const t=new class{constructor(){this.updates=[],this.keydowns=[],this.updateInterval=setInterval((()=>{this.updatePrivate(this.ctx,{updates:this.updates,keydowns:this.keydowns})}),1)}setContext(t){this.ctx=t.getContext("2d"),this.canvas=t}updatePrivate(t,e){if(this.ctx){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,canvas.width,canvas.height);for(let t in e.updates)e.updates[t]();for(let t in e.keydowns)e.keydowns[t]()}}onkeydown(t){this.keydowns.push(t)}update(t){this.updates.push(t)}draw(t){"RectObject"==t.type&&(this.ctx.fillStyle=t.color,this.ctx.fillRect(t.x,t.y,t.width,t.height))}},e=document.getElementById("canvas");function s(){e.width=window.innerWidth,e.height=window.innerHeight}t.setContext(e),s(),window.onresize=function(t){s()};const i=new class{constructor(t=0,e=0,s=50,i=50,n="red"){this.type="RectObject",this.x=t,this.y=e,this.width=s,this.height=i,this.color=n}};i.color="white",t.update((function(){i.x+=.1,t.draw(i)}))})();